<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ChatGPT-style Input Test</title>
  <style>
    :root {
      --background: 213 27% 7%;
      --foreground: 213 31% 91%;
      --border: 213 27% 18%;
      --primary: 217 91% 60%;
      --primary-foreground: 213 27% 7%;
      --primary-hover: 217 91% 55%;
      --muted: 213 27% 10%;
      --muted-foreground: 213 13% 65%;
    }

    body {
      background-color: hsl(var(--background));
      color: hsl(var(--foreground));
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .chat-area {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      padding-bottom: 120px; /* Space for sticky input */
    }

    .message {
      margin-bottom: 20px;
      padding: 15px;
      border-radius: 12px;
      max-width: 80%;
    }

    .user-message {
      background: hsl(var(--primary));
      color: hsl(var(--primary-foreground));
      margin-left: auto;
    }

    .bot-message {
      background: hsl(var(--muted));
      color: hsl(var(--foreground));
    }

    /* ChatGPT-style Input */
    .chatgpt-input-container {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: hsl(var(--background));
      border-top: 1px solid hsl(var(--border));
      padding: 20px;
      z-index: 50;
    }

    .input-wrapper {
      max-width: 800px;
      margin: 0 auto;
    }

    .chatgpt-input {
      position: relative;
      display: flex;
      align-items: flex-end;
      background: hsl(var(--background));
      border: 1px solid hsl(var(--border));
      border-radius: 24px;
      padding: 12px 16px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      min-height: 56px;
    }

    .chatgpt-input:hover {
      border-color: hsl(var(--border) / 0.8);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .chatgpt-input.focused {
      border-color: hsl(var(--primary) / 0.5);
      box-shadow: 0 0 0 1px hsl(var(--primary) / 0.2), 
                  0 8px 25px rgba(0, 0, 0, 0.2);
      transform: translateY(-1px);
    }

    .chatgpt-textarea {
      flex: 1;
      background: transparent;
      border: none;
      outline: none;
      color: hsl(var(--foreground));
      font-size: 16px;
      line-height: 1.5;
      resize: none;
      min-height: 24px;
      max-height: 120px;
      padding: 0;
      font-family: inherit;
      caret-color: hsl(var(--primary));
    }

    .chatgpt-textarea::placeholder {
      color: hsl(var(--muted-foreground));
      animation: chatgpt-blink 1.5s infinite;
    }

    @keyframes chatgpt-blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0.4; }
    }

    .chatgpt-file-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 32px;
      height: 32px;
      background: transparent;
      border: none;
      border-radius: 50%;
      color: hsl(var(--muted-foreground));
      cursor: pointer;
      transition: all 0.2s ease;
      margin-right: 8px;
      flex-shrink: 0;
    }

    .chatgpt-file-btn:hover {
      background: hsl(var(--muted) / 0.5);
      color: hsl(var(--foreground));
    }

    .chatgpt-send-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 32px;
      height: 32px;
      background: hsl(var(--primary));
      border: none;
      border-radius: 50%;
      color: hsl(var(--primary-foreground));
      cursor: pointer;
      transition: all 0.2s ease;
      flex-shrink: 0;
    }

    .chatgpt-send-btn:hover:not(:disabled) {
      background: hsl(var(--primary-hover));
      transform: scale(1.05);
    }

    .chatgpt-send-btn:disabled {
      background: hsl(var(--muted));
      color: hsl(var(--muted-foreground));
      cursor: not-allowed;
      transform: none;
    }

    .disclaimer {
      text-align: center;
      font-size: 12px;
      color: hsl(var(--muted-foreground));
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div class="chat-area">
    <div class="message bot-message">
      <strong>ElevenDocs AI:</strong> Hello! I'm your AI legal assistant. I can help you analyze, summarize, and understand legal documents. How can I assist you today?
    </div>
    
    <div class="message user-message">
      <strong>You:</strong> Test the new ChatGPT-style input!
    </div>
    
    <div class="message bot-message">
      <strong>ElevenDocs AI:</strong> Perfect! The new input design features:
      <ul>
        <li>‚úÖ Rounded corners (24px border-radius)</li>
        <li>‚úÖ Smooth focus animation with glow effect</li>
        <li>‚úÖ Blinking placeholder text</li>
        <li>‚úÖ Paper plane send button inside the bar</li>
        <li>‚úÖ Sticky positioning at bottom</li>
        <li>‚úÖ Dark theme friendly</li>
        <li>‚úÖ Smooth scrolling with proper spacing</li>
      </ul>
    </div>
  </div>

  <div class="chatgpt-input-container">
    <div class="input-wrapper">
      <div class="chatgpt-input" id="inputContainer">
        <textarea 
          class="chatgpt-textarea" 
          placeholder="Ask ElevenDocs about your legal document..."
          id="messageInput"
        ></textarea>
        <button class="chatgpt-file-btn" title="Attach file">üìé</button>
        <button class="chatgpt-send-btn" id="sendBtn">‚úàÔ∏è</button>
      </div>
      <div class="disclaimer">
        ElevenDocs can analyze legal documents. Always consult with a qualified attorney for legal advice.
      </div>
    </div>
  </div>

  <script>
    const inputContainer = document.getElementById('inputContainer');
    const messageInput = document.getElementById('messageInput');
    const sendBtn = document.getElementById('sendBtn');

    // Focus/blur effects
    messageInput.addEventListener('focus', () => {
      inputContainer.classList.add('focused');
    });

    messageInput.addEventListener('blur', () => {
      inputContainer.classList.remove('focused');
    });

    // Auto-resize textarea
    messageInput.addEventListener('input', () => {
      messageInput.style.height = 'auto';
      messageInput.style.height = Math.min(messageInput.scrollHeight, 120) + 'px';
    });

    // Send functionality
    function sendMessage() {
      const message = messageInput.value.trim();
      if (!message) return;

      // Add user message to chat
      const chatArea = document.querySelector('.chat-area');
      const userMessage = document.createElement('div');
      userMessage.className = 'message user-message';
      userMessage.innerHTML = `<strong>You:</strong> ${message}`;
      chatArea.appendChild(userMessage);

      // Clear input
      messageInput.value = '';
      messageInput.style.height = 'auto';

      // Scroll to bottom
      chatArea.scrollTop = chatArea.scrollHeight;

      // Add bot response
      setTimeout(() => {
        const botMessage = document.createElement('div');
        botMessage.className = 'message bot-message';
        botMessage.innerHTML = `<strong>ElevenDocs AI:</strong> I received your message: "${message}". The ChatGPT-style input is working perfectly!`;
        chatArea.appendChild(botMessage);
        chatArea.scrollTop = chatArea.scrollHeight;
      }, 1000);
    }

    sendBtn.addEventListener('click', sendMessage);

    messageInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        sendMessage();
      }
    });
  </script>
</body>
</html>
